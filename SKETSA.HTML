<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Sketch - AW Design Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. SETUP CSS VARIABLE --- */
        :root {
            --bg-dark: #09090b;
            --surface-dark: #18181b;
            --surface-light: #27272a;
            --primary-gradient: linear-gradient(135deg, #6366f1 0%, #a855f7 50%, #ec4899 100%);
            --glow: 0 0 20px rgba(168, 85, 247, 0.3);
            --text-main: #ffffff;
            --text-muted: #a1a1aa;
            --border: rgba(255, 255, 255, 0.1);
            --neon-accent: #a855f7;
            --neon-cyan: #00bcd4;
            --error-red: #ef4444;
        }

        * { box-sizing: border-box; font-family: 'Outfit', sans-serif; margin: 0; padding: 0; }

        body {
            background-color: var(--bg-dark);
            background-image: 
                radial-gradient(circle at 50% 0%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 10% 90%, rgba(236, 72, 153, 0.1) 0%, transparent 40%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-main);
            padding: 20px;
        }
        
        /* CSS KHUSUS TOMBOL KEMBALI */
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 8px 12px;
            margin-bottom: 20px;
            background: var(--surface-light);
            color: var(--text-main);
            text-decoration: none;
            border-radius: 8px;
            border: 1px solid var(--border);
            font-size: 14px;
            transition: all 0.2s;
            cursor: pointer;
        }
        .back-button:hover {
            background: rgba(168, 85, 247, 0.1);
            border-color: var(--neon-accent);
            color: var(--neon-accent);
        }

        /* --- 2. CONTAINER UTAMA (CARD) --- */
        .order-card {
            background: rgba(24, 24, 27, 0.8);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            width: 100%;
            max-width: 500px;
            border-radius: 24px;
            border: 1px solid var(--border);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6);
            padding: 32px;
            max-height: 95vh; 
            overflow-y: auto;
        }
        
        /* Header */
        .card-header {
            margin-bottom: 15px;
            text-align: center; 
        }

        h2.title {
            font-size: 28px;
            font-weight: 700;
            color: var(--neon-accent);
            margin-bottom: 4px;
        }

        p.description {
            font-size: 14px;
            color: var(--text-muted);
            font-weight: 300;
            border-bottom: 1px solid var(--border);
            padding-bottom: 15px;
        }

        /* Sub-Heading */
        .step-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-main);
            margin-bottom: 12px;
            margin-top: 25px;
            text-align: left; 
        }
        
        /* --- 4. SELECTION BUTTONS (TUJUAN & RASIO) --- */
        .selection-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .goal-grid {
             display: grid;
             grid-template-columns: repeat(3, 1fr);
             gap: 10px;
             margin-bottom: 10px;
        }
        .goal-grid .selection-btn {
            grid-column: span 1; /* Reset to 1 column */
            flex-grow: 1; 
        }
        .goal-grid .selection-btn[data-value="Kustom"] {
             grid-column: span 3; /* Tombol Kustom kembali ambil 3 kolom */
        }
        
        .ratio-grid {
             display: grid;
             grid-template-columns: repeat(3, 1fr);
             margin-bottom: 15px; /* Disesuaikan untuk info box */
        }

        .selection-btn {
            flex-grow: 1; 
            padding: 12px 10px;
            background: var(--surface-dark);
            border: 1px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-muted);
            transition: all 0.2s;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: auto;
        }
        
        /* Gaya Khusus untuk Konten Rasio */
        .selection-grid.ratio-grid .selection-btn {
            padding: 10px 5px;
        }
        
        .selection-grid.ratio-grid .selection-btn svg {
            width: 18px;
            height: 18px;
            stroke: currentColor; 
            fill: none;
            margin-bottom: 4px;
        }

        .selection-grid.ratio-grid .selection-btn strong {
            font-size: 12px;
            font-weight: 700;
            color: var(--text-main);
            margin-top: 0;
            margin-bottom: 0; 
            line-height: 1.2;
        }
        
        /* Penyesuaian untuk tombol non-rasio (Tujuan Gambar) agar tetap rapi */
        .selection-grid:not(.ratio-grid) .selection-btn {
             flex-direction: row; 
             font-size: 14px;
             height: 44px;
        }
        
        .selection-btn.active {
            border-color: var(--neon-accent); 
            background: rgba(168, 85, 247, 0.1); 
            color: var(--text-main); 
            box-shadow: 0 0 10px rgba(168, 85, 247, 0.3);
        }
        .selection-btn.active strong {
             color: var(--text-main);
        }

        .selection-btn svg {
            width: 14px;
            height: 14px;
            stroke: currentColor; 
            fill: none;
        }

        /* --- NEW: INFO BOX UNTUK RASIO --- */
        .ratio-info-box {
            margin-top: -10px; 
            margin-bottom: 25px; 
            padding: 12px 15px;
            background: rgba(168, 85, 247, 0.05);
            border: 1px dashed var(--border);
            border-radius: 10px;
            font-size: 13px;
            color: var(--text-muted);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        .ratio-info-box.highlight {
            border-color: var(--neon-accent);
            color: var(--text-main);
            background: rgba(168, 85, 247, 0.1);
        }

        /* --- 5. TEXTAREA & INPUT TEKS BARU --- */
        .prompt-wrapper, .input-group {
            position: relative;
            margin-bottom: 15px;
        }
        
        textarea, input[type="text"], input[type="tel"] {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 10px;
            resize: none; 
            font-size: 14px;
            outline: none;
            color: var(--text-main);
            background: var(--surface-dark);
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        
        textarea {
            height: 100px;
            padding-right: 40px; 
        }
        
        input[type="text"], input[type="tel"] {
            height: 44px;
        }

        textarea:focus, input[type="text"]:focus, input[type="tel"]:focus { border-color: var(--neon-accent); }
        textarea::placeholder, input[type="text"]::placeholder, input[type="tel"]::placeholder { color: #71717a; }

        /* Style untuk input yang tidak valid (Kotak Merah) */
        .input-group input.input-invalid {
            border-color: var(--error-red) !important;
            box-shadow: 0 0 5px rgba(239, 68, 68, 0.5);
        }

        /* Style untuk pesan kesalahan */
        .error-message {
            color: var(--error-red);
            font-size: 12px;
            margin-top: 4px;
            display: none;
        }
        
        .error-message.visible {
            display: block;
        }

        .magic-icon {
            position: absolute;
            top: 10px; 
            right: 12px;
            color: var(--neon-accent);
            cursor: pointer;
            z-index: 10;
        }

        /* --- 6. ACTION BUTTON --- */
        .btn-process {
            margin-top: 30px;
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            background: var(--primary-gradient);
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-process:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(168, 85, 247, 0.5);
        }
        
        .btn-process:disabled {
            background: #3f3f46;
            cursor: not-allowed;
            opacity: 0.5;
            box-shadow: none;
        }

    </style>
</head>
<body>

    <div class="order-card">
        
        <a href="MENU LAYANAN.HTML" class="back-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
            Kembali ke Menu Utama
        </a>

        <div class="card-header">
            <h2 class="title">Smart Sketch</h2>
            <p class="description">Ubah gambar sketsa Anda menjadi visual digital yang keren dengan bantuan AI. Setelah itu Klik untuk Order dan Anda akan otomatis diarahkan ke WhatsApp untuk konfirmasi order dan upload foto yang akan diedit.</p>
        </div>
        
        <div class="input-section goal-section">
            <h3 class="step-title">1. Tujuan Gambar</h3>
            <div class="selection-grid goal-grid" data-group="goal">
                
                <button class="selection-btn active" data-value="Logo" onclick="selectOption(this, 'goal')">Logo</button>
                <button class="selection-btn" data-value="Banner" onclick="selectOption(this, 'goal')">Banner</button>
                <button class="selection-btn" data-value="Produk" onclick="selectOption(this, 'goal')">Produk</button>
                
                <button class="selection-btn" data-value="3DRender" onclick="selectOption(this, 'goal')">3D Render</button>
                <button class="selection-btn" data-value="Kartun" onclick="selectOption(this, 'goal')">Kartun</button>
                <button class="selection-btn" data-value="Realistis" onclick="selectOption(this, 'goal')">Realistis</button>

                <button class="selection-btn" data-value="Kustom" onclick="selectOption(this, 'goal')">Kustom</button>
            </div>
        </div>

        <div class="input-section instruction-section">
            <h3 class="step-title">2. Instruksi (opsional)</h3>
            <div class="prompt-wrapper">
                <textarea id="prompt-input" placeholder="Contoh: Ubah sketsa menjadi model 3D di pantai saat matahari terbenam..."></textarea>
                <div class="magic-icon" onclick="autoFillPrompt()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L14.4 9.6L22 12L14.4 14.4L12 22L9.6 14.4L2 12L9.6 9.6L12 2Z"></path></svg>
                </div>
            </div>
        </div>

        <div class="input-section ratio-section">
            <h3 class="step-title">3. Pilih Rasio</h3>
            <div class="selection-grid ratio-grid" data-group="ratio">
                
                <button class="selection-btn active" data-value="1:1" data-desc="Cocok untuk Logo, Feed Instagram/Facebook, atau Foto Profil." onclick="selectOption(this, 'ratio')">
                    <svg viewBox="0 0 24 24" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" /></svg>
                    <strong>1:1</strong>
                </button>

                <button class="selection-btn" data-value="16:9" data-desc="Ideal untuk Banner Website, Gambar Produk Landscape, atau Thumbnail YouTube." onclick="selectOption(this, 'ratio')">
                    <svg viewBox="0 0 24 24" stroke-width="2"><rect x="2" y="5" width="20" height="14" rx="2" /></svg>
                    <strong>16:9</strong>
                </button>

                <button class="selection-btn" data-value="9:16" data-desc="Sempurna untuk Stories/Reels Instagram/TikTok, atau Mobile Wallpaper." onclick="selectOption(this, 'ratio')">
                    <svg viewBox="0 0 24 24" stroke-width="2"><rect x="5" y="2" width="14" height="20" rx="2" /></svg>
                    <strong>9:16</strong>
                </button>

            </div>
            
            <div class="ratio-info-box">
                <span style="font-size: 14px; margin-right: 5px;">ðŸ’¡</span>
                <span id="ratio-description">Cocok untuk Logo, Feed Instagram/Facebook, atau Foto Profil.</span>
            </div>
        </div>

        <div class="input-section contact-section">
            <h3 class="step-title">4. Data Pemesan (Wajib Diisi)</h3>
            
            <div class="input-group">
                <input type="text" id="nama-lengkap" placeholder="Nama Lengkap Anda (Min. 3 Karakter)" minlength="3" required>
                <span class="error-message" id="error-nama">Nama harus diisi minimal 3 karakter.</span>
            </div>
            
            </div>
        
        <button class="btn-process" id="btn-process" disabled>
            Klik untuk Order
        </button>

    </div>

    <script>
        const btnProcess = document.getElementById('btn-process');
        const promptInput = document.getElementById('prompt-input');
        const namaInput = document.getElementById('nama-lengkap');
        
        const errorNama = document.getElementById('error-nama');
        
        const targetWA = "6285133748005"; 
        
        function selectOption(selectedButton, groupName) {
            const parent = selectedButton.closest('.selection-grid');
            const buttons = parent.querySelectorAll('.selection-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            selectedButton.classList.add('active');
            
            // --- LOGIKA UPDATE TEKS DESKRIPSI RASIO ---
            if (groupName === 'ratio') {
                const descText = selectedButton.getAttribute('data-desc');
                const descElement = document.getElementById('ratio-description');
                const infoBox = document.querySelector('.ratio-info-box');
                
                infoBox.classList.add('highlight');
                setTimeout(() => infoBox.classList.remove('highlight'), 300);
                descElement.textContent = descText;
            }
            
            checkCompleteness();
        }

        function autoFillPrompt() {
            promptInput.value = "Ubah sketsa ini menjadi model 3D di pantai saat matahari terbenam dengan warna-warna cerah dan tekstur pasir realistis.";
            promptInput.dispatchEvent(new Event('input'));
        }

        function validateInputs() {
            const nama = namaInput.value.trim();
            const isNameValid = nama.length >= 3;
            
            toggleValidationFeedback(namaInput, errorNama, isNameValid, "Nama harus diisi minimal 3 karakter.");
            
            // Validasi WA dihapus
            return { isNameValid };
        }

        function toggleValidationFeedback(inputElement, errorElement, isValid, errorMessage) {
            if (inputElement.value.trim() === '') {
                inputElement.classList.remove('input-invalid');
                errorElement.classList.remove('visible');
                return;
            }

            if (isValid) {
                inputElement.classList.remove('input-invalid');
                errorElement.classList.remove('visible');
            } else {
                inputElement.classList.add('input-invalid');
                errorElement.textContent = errorMessage;
                errorElement.classList.add('visible');
            }
        }
        
        function checkCompleteness() {
            const isGoalSelected = document.querySelector('.selection-grid[data-group="goal"] .selection-btn.active') !== null;
            
            const { isNameValid } = validateInputs();
            
            if (isGoalSelected && isNameValid) {
                btnProcess.disabled = false;
            } else {
                btnProcess.disabled = true;
            }
        }
        
        btnProcess.addEventListener('click', function(event) {
            
            const { isNameValid } = validateInputs();

            if (!isNameValid) {
                document.querySelector('.contact-section').scrollIntoView({ behavior: 'smooth', block: 'center' });
                alert("Mohon lengkapi atau perbaiki data pemesan yang ditandai.");
                return;
            }

            if (!btnProcess.disabled) {
                const namaLengkap = namaInput.value.trim();
                
                const selectedGoal = document.querySelector('.selection-grid[data-group="goal"] .selection-btn.active').textContent.trim();
                
                const selectedRatioElement = document.querySelector('.selection-grid[data-group="ratio"] .selection-btn.active strong');
                const selectedRatio = selectedRatioElement ? selectedRatioElement.textContent.trim() : 'N/A';
                
                const instruksi = promptInput.value.trim();
                const instruksiTampil = instruksi || "T/A";
                
                // Simulasi Database (tanpa nomor WA pemesan)
                const orderData = {
                    nama: namaLengkap,
                    tujuan: selectedGoal,
                    rasio: selectedRatio,
                    instruksi: instruksi,
                    timestamp: new Date().toISOString()
                };
                
                console.log("--- ORDER TERSIMPAN (simulasi database) ---");
                console.log(orderData);
                
                let waMessage = `Halo saya ${namaLengkap}, baru saja order *Smart Sketch*.\n\n*Detail Order:*\n*Tujuan Gambar:* ${selectedGoal}\n*Rasio:* ${selectedRatio}\n*Instruksi:* ${instruksiTampil}\n\nFile sketsa akan segera saya kirim ke sini. Mohon segera diproses ya, Terima kasih!`;
                
                const encodedMessage = encodeURIComponent(waMessage);
                
                window.open(`https://wa.me/${targetWA}?text=${encodedMessage}`, '_blank');
                
                // alert("Order Anda telah tercatat. Silakan lanjutkan di WhatsApp untuk mengirimkan sketsa!");
                
                window.location.href = "MENU LAYANAN.HTML";
            }
        });
        
        document.addEventListener('DOMContentLoaded', checkCompleteness);
        
        namaInput.addEventListener('input', checkCompleteness);
        promptInput.addEventListener('input', checkCompleteness);

    </script>
</body>
</html>



